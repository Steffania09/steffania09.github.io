<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ü§ç</title>

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: #fdfdfd;
    text-align: center;
    color: #333;
}

.container {
    margin-top: 60px;
    padding: 20px;
    transition: opacity 0.5s ease;
}

img {
    width: 220px;
    border-radius: 12px;
    margin: 15px 0;
    touch-action: manipulation;
}

.gallery img {
    width: 90%;
    max-width: 350px;
    border-radius: 12px;
    margin: 12px auto;
    display: block;
}

button {
    padding: 12px 24px;
    font-size: 16px;
    margin: 10px;
    border-radius: 8px;
    border: 1px solid #ffb6c1;
    background: white;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    z-index: 1;
}

#yesBtn {
    background: #ffb6c1;
    color: white;
    border: none;
}

#message {
    margin-top: 15px;
    min-height: 30px;
    font-size: 16px;
    color: #888;
    position: relative;
    z-index: 2;
}

/* Floating hearts */
.heart {
    position: fixed;
    bottom: 20px;
    font-size: 18px;
    color: #ff6f91;
    animation: floatUp 3s ease-out forwards;
    pointer-events: none;
    opacity: 0.8;
}

@keyframes floatUp {
    0% { transform: translateY(0) scale(1); opacity: 0.8; }
    100% { transform: translateY(-120px) scale(1.4); opacity: 0; }
}
</style>
</head>

<body>

<div class="container" id="mainContainer">
    <h1>Hi, Babe ü§ç</h1>

    <img id="mainGif" src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif">

    <p>
        Every 14th has always been ours.
        <br><br>
        This February,
        will you be my Valentine?
    </p>

    <button id="yesBtn">Yes ü§ç</button>
    <button id="noBtn">No</button>

    <div id="message"></div>
</div>

<audio id="bgAudio" src="pangarap.mp3" preload="auto"></audio>

<script>
document.addEventListener("DOMContentLoaded", function() {

    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const message = document.getElementById("message");
    const container = document.getElementById("mainContainer");
    const audio = document.getElementById("bgAudio");
    const gif = document.getElementById("mainGif");

    audio.loop = false;
    audio.volume = 0.8;
    audio.playsInline = true;

    // 0 = Valentine question (NO dodges)
    // 1 = Availability question
    // 2 = Not available
    let stage = 0;

    const happyGif = "https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif";

    function changeGif(url) {
        gif.src = url + "?v=" + Date.now();
    }

    function spawnHeart() {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = "ü§ç";
        heart.style.left = (Math.random() * 80 + 10) + "vw";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 3000);
    }

    function showAvailabilityQuestion() {
        stage = 1;

        noBtn.style.display = "inline-block";
        noBtn.style.transform = "translate(0px, 0px)";
        yesBtn.style.transform = "scale(1)";

        yesBtn.textContent = "Yes, I'm free ü§ç";
        noBtn.textContent = "Not that day";

        message.innerHTML = `
            One more thing ü§ç<br><br>
            Are you free on <strong>February 11 (Wednesday)</strong>?
        `;
    }

    function showFinalScreen(isAvailable) {
        audio.play().catch(() => {});
        container.style.opacity = "0";

        setTimeout(() => {
            container.innerHTML = `
                <h1 style="color:#ff6f91;">Happy Valentine‚Äôs & Monthsary in Advance ü§ç</h1>

                <p style="max-width:350px; margin:20px auto; line-height:1.7;">
                    You know we don‚Äôt usually celebrate on February 14,
                    because crowded places were never really our thing.
                    <br><br>
                    We‚Äôve always liked going out in the late afternoon ‚Äî
                    when it‚Äôs cooler, calmer, and we can just take our time.
                    <br><br>
                    ${
                        isAvailable
                        ? `
                        No fixed plans, no rush.
                        Just walking around Binondo,
                        looking for good food and enjoying the moment together.
                        <br><br>
                        <strong>I‚Äôd love to take you on a Binondo date ü§ç</strong>
                        `
                        : `
                        There‚Äôs no rush at all.
                        You can always tell me whenever you‚Äôre free,
                        and we‚Äôll make time for it together.
                        <br><br>
                        <strong>I‚Äôd still love to take you on a Binondo date ü§ç</strong>
                        `
                    }
                </p>

                <div class="gallery">
                    <img src="https://anchorland.com.ph/wp-content/uploads/2023/01/shutterstock_1846594648-1-768x513.jpg">
                    <img src="https://hungrytwotravel.com/wp-content/uploads/2023/07/Binondo-Chinatown-Manila-shanghai-fried-siopao-1024x683.jpg">
                    <img src="https://hungrytwotravel.com/wp-content/uploads/2023/07/Binondo-Chinatown-Manila-eng-bee-tin-1024x683.jpg">
                </div>
            `;
            container.style.opacity = "1";
        }, 500);
    }

    noBtn.addEventListener("click", function() {

        // Stage 0: NO dodges
        if (stage === 0) {
            const randomX = Math.floor(Math.random() * 200) - 100;
            const randomY = Math.floor(Math.random() * 100) - 50;
            noBtn.style.transform = `translate(${randomX}px, ${randomY}px)`;
            return;
        }

        // Stage 1: Not available
        if (stage === 1) {
            stage = 2;
            changeGif(happyGif);

            message.innerHTML = `
                That‚Äôs okay ü§ç<br><br>
                No pressure at all.
                We can pick another day that works for you.
                <br><br>
                What matters is spending time together.
            `;

            noBtn.style.display = "none";
            yesBtn.textContent = "Okay ü§ç";
            yesBtn.style.transform = "scale(1.1)";
        }
    });

    yesBtn.addEventListener("click", function() {
        spawnHeart();

        if (stage === 0) {
            showAvailabilityQuestion();
            return;
        }

        if (stage === 1) {
            showFinalScreen(true);
            return;
        }

        if (stage === 2) {
            showFinalScreen(false);
        }
    });

});
</script>

</body>
</html>
